(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{ 13:function(e,n,t){},16:function(e,n,t){e.exports=t(39)},39:function(e,n,t){'use strict';t.r(n);var a=t(0),u=t.n(a),r=t(14),l=t.n(r),o=t(15),c=t(2),i=function(e){return u.a.createElement('div',null,'filter shown with',u.a.createElement('input',{ value:e.value,onChange:e.handleFilterChange }))},m=function(e){return u.a.createElement('form',{ onSubmit:e.submit },u.a.createElement('div',null,'name:',u.a.createElement('input',{ value:e.nameValue,onChange:e.handleNameChange })),u.a.createElement('div',null,'number:',u.a.createElement('input',{ value:e.phoneNumberValue,onChange:e.handlePhoneNumberChange })),u.a.createElement('div',null,u.a.createElement('button',{ type:'submit' },'add')))},s=function(e){return u.a.createElement('div',null,u.a.createElement('li',null,e.name,' ',e.phoneNumber,u.a.createElement('button',{ onClick:e.deletePerson },'delete')))},d=function(e){return u.a.createElement('ul',null,e.persons.map(function(n){return u.a.createElement(s,{ key:n.id,name:n.name,phoneNumber:n.number,deletePerson:function(){return e.deletePerson(n.id,n.name)} })}))},f=t(3),h=t.n(f),b='/api/persons',p=function(){return h.a.get(b)},E=function(e){return h.a.post(b,e)},v=function(e){return h.a.delete(''.concat(b,'/').concat(e))},g=function(e,n){return h.a.put(''.concat(b,'/').concat(e),n)},w=(t(13),function(e){return null===e.message?null:u.a.createElement('div',{ className:'success' },e.message)}),O=function(e){return null===e.message?null:u.a.createElement('div',{ className:'error' },e.message)},j=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],l=Object(a.useState)(''),s=Object(c.a)(l,2),f=s[0],h=s[1],b=Object(a.useState)(''),j=Object(c.a)(b,2),N=j[0],C=j[1],k=Object(a.useState)(''),S=Object(c.a)(k,2),x=S[0],P=S[1],y=Object(a.useState)(null),T=Object(c.a)(y,2),V=T[0],J=T[1],F=Object(a.useState)(null),I=Object(c.a)(F,2),L=I[0],A=I[1];Object(a.useEffect)(function(){p().then(function(e){r(e.data)})},[]);var B=t.filter(function(e){return-1!==e.name.toLowerCase().indexOf(x.toLowerCase())});return u.a.createElement('div',null,u.a.createElement('h2',null,'Phonebook'),u.a.createElement(w,{ message:V }),u.a.createElement(O,{ message:L }),u.a.createElement(i,{ value:x,handleFilterChange:function(e){P(e.target.value)} }),u.a.createElement('h3',null,'add a new'),u.a.createElement(m,{ submit:function(e){e.preventDefault();var n=t.map(function(e){return-1===e.name.indexOf(f)}),a={ name:f,number:N,id:t.length+1 };if(-1===n.indexOf(!1))E(a).then(function(e){r(t.concat(e.data)),h(''),C(''),J('Added '.concat(f)),setTimeout(function(){J(null)},5e3)}).catch(function(e){var n=JSON.stringify(e.response.data.error);A(n),setTimeout(function(){A(null)},5e3)});else if(''===f)A('Name field is missing'),setTimeout(function(){A(null)},5e3);else if(window.confirm(''.concat(f,' is already added to phonebook,\n            replace the old number with a new one?'))){var u=n.indexOf(!1),l=Object(o.a)({},t[u],{ number:N });g(t[u].id,l).then(function(e){r(t,window.location.reload())}).catch(function(e){A('Information of '.concat(f,' has already been removed from the server')),setTimeout(function(){A(null)},5e3)})}else window.open('exit.html','Thanks for Visiting!')},nameValue:f,handleNameChange:function(e){h(e.target.value)},phoneNumberValue:N,handlePhoneNumberChange:function(e){C(e.target.value)} }),u.a.createElement('h3',null,'Numbers'),u.a.createElement(d,{ persons:B,deletePerson:function(e,n){window.confirm('delete '.concat(n,' ?'))?v(e).then(function(n){var a=t.filter(function(n){return n.id!==e});r(a)}):window.open('exit.html','Thanks for Visiting!')} }))};l.a.render(u.a.createElement(j,null),document.getElementById('root'))} },[[16,1,2]]])
//# sourceMappingURL=main.72261cb3.chunk.js.map
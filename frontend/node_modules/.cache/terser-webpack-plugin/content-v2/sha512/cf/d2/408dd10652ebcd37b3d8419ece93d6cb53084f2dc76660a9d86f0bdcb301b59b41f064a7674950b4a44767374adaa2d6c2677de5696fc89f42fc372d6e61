{"map":"{\"version\":3,\"sources\":[\"/home/giang/phonebook/phonebook-frontend/src/components/Filter.js\",\"/home/giang/phonebook/phonebook-frontend/src/components/PersonForm.js\",\"/home/giang/phonebook/phonebook-frontend/src/components/Contact.js\",\"/home/giang/phonebook/phonebook-frontend/src/components/Persons.js\",\"/home/giang/phonebook/phonebook-frontend/src/service/persons.js\",\"/home/giang/phonebook/phonebook-frontend/src/components/Success.js\",\"/home/giang/phonebook/phonebook-frontend/src/components/Error.js\",\"/home/giang/phonebook/phonebook-frontend/src/App.js\",\"/home/giang/phonebook/phonebook-frontend/src/index.js\"],\"names\":[\"Filter\",\"props\",\"react_default\",\"a\",\"createElement\",\"value\",\"onChange\",\"handleFilterChange\",\"PersonForm\",\"onSubmit\",\"submit\",\"nameValue\",\"handleNameChange\",\"phoneNumberValue\",\"handlePhoneNumberChange\",\"type\",\"Contact\",\"name\",\"phoneNumber\",\"onClick\",\"deletePerson\",\"Persons\",\"persons\",\"map\",\"contact\",\"components_Contact\",\"key\",\"id\",\"number\",\"baseUrl\",\"service_persons\",\"axios\",\"get\",\"newObject\",\"post\",\"delete\",\"concat\",\"put\",\"Success\",\"message\",\"className\",\"Error\",\"App\",\"_useState\",\"useState\",\"_useState2\",\"Object\",\"slicedToArray\",\"setPersons\",\"_useState3\",\"_useState4\",\"newName\",\"setNewName\",\"_useState5\",\"_useState6\",\"newNumber\",\"setNumber\",\"_useState7\",\"_useState8\",\"filter\",\"setFilter\",\"_useState9\",\"_useState10\",\"success\",\"setSuccess\",\"_useState11\",\"_useState12\",\"error\",\"setError\",\"useEffect\",\"personService\",\"then\",\"response\",\"data\",\"filteredContacts\",\"toLowerCase\",\"indexOf\",\"components_Success\",\"components_Error\",\"components_Filter\",\"event\",\"target\",\"components_PersonForm\",\"preventDefault\",\"checkName\",\"p\",\"newPerson\",\"length\",\"setTimeout\",\"catch\",\"err\",\"JSON\",\"stringify\",\"window\",\"confirm\",\"index\",\"changedPerson\",\"objectSpread\",\"location\",\"reload\",\"open\",\"components_Persons\",\"del\",\"ReactDOM\",\"render\",\"src_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from \\\"react\\\"\\n\\nconst Filter = (props) => {\\n    return (\\n        <div>\\n            filter shown with\\n            <input \\n                value={props.value} \\n                onChange={props.handleFilterChange} />\\n        </div>\\n    )\\n}\\n\\nexport default Filter\",\"import React from \\\"react\\\"\\n\\nconst PersonForm = (props) => {\\n    return (\\n        <form onSubmit={props.submit}>\\n            <div>\\n                name: \\n                <input \\n                    value ={props.nameValue} \\n                    onChange={props.handleNameChange} />\\n            </div>\\n            <div>\\n                number: \\n                <input \\n                    value={props.phoneNumberValue} \\n                    onChange={props.handlePhoneNumberChange}/>\\n            </div>\\n            <div>\\n                <button type=\\\"submit\\\">add</button>\\n            </div>\\n        </form>\\n    )\\n}\\n\\nexport default PersonForm\",\"import React from \\\"react\\\"\\n\\nconst Contact = (props) => {\\n    return (\\n        <div>\\n            <li>\\n                {props.name} {props.phoneNumber} \\n                <button onClick={props.deletePerson}>delete</button>\\n            </li>\\n        </div>\\n    \\n    )\\n}\\n\\nexport default Contact;\",\"import React from \\\"react\\\"\\nimport Contact from \\\"./Contact\\\"\\n\\nconst Persons = (props) => {\\n    return (\\n        <ul>\\n            {props.persons.map(contact=>\\n                <Contact \\n                    key={contact.id}\\n                    name={contact.name}\\n                    phoneNumber= {contact.number}\\n                    deletePerson={()=>props.deletePerson(contact.id, contact.name)}\\n                />\\n        )}\\n        </ul>\\n    )\\n}\\n\\nexport default Persons\",\"import axios from \\\"axios\\\"\\n\\nconst baseUrl='/api/persons'\\n\\nconst getAll = () => {\\n    return axios.get(baseUrl)\\n}\\n\\nconst create = newObject => {\\n    return axios.post(baseUrl, newObject)\\n}\\n\\nconst del = (id) => {\\n    return axios.delete(`${baseUrl}/${id}`)\\n}\\n\\nconst update = (id, newObject) => {\\n    return axios.put(`${baseUrl}/${id}`, newObject)\\n}\\nexport default {getAll, create, del, update}\",\"import React from \\\"react\\\"\\nimport \\\"./style.css\\\"\\n\\nconst Success = (props) => {\\n    if (props.message === null) return null\\n    else\\n    return (\\n        <div className=\\\"success\\\">\\n            {props.message}\\n        </div>\\n    )\\n}\\n\\nexport default Success\",\"import React from \\\"react\\\"\\nimport \\\"./style.css\\\"\\n\\nconst Error = (props) => {\\n    if (props.message === null) return null\\n    return (\\n        <div className=\\\"error\\\">\\n            {props.message}\\n        </div>\\n    )\\n}\\n\\nexport default Error\",\"import React, { useEffect, useState } from 'react';\\nimport Filter from \\\"./components/Filter\\\";\\nimport PersonForm from \\\"./components/PersonForm\\\";\\nimport Persons from \\\"./components/Persons\\\";\\nimport personService from \\\"./service/persons\\\";\\nimport Success from \\\"./components/Success\\\";\\nimport Error from \\\"./components/Error\\\"\\n\\nconst App = () => {\\n    const [ persons, setPersons] = useState([])\\n    const [ newName, setNewName ] = useState('')\\n    const [ newNumber, setNumber ] = useState('')\\n    const [ filter, setFilter ] = useState('')\\n    const [ success, setSuccess ] = useState(null)\\n    const [ error, setError ] = useState(null)\\n\\n    useEffect(()=> {\\n        personService\\n          .getAll()\\n          .then(response => {setPersons(response.data)})\\n    }, [])\\n\\n    const addPerson = (event) => {\\n        event.preventDefault()\\n        const checkName=persons.map(p => p.name.indexOf(newName) === -1)\\n        const newPerson={\\n            name:newName,\\n            number:newNumber,\\n            id:persons.length+1,\\n        }\\n\\n        if(checkName.indexOf(false) === -1) {\\n            personService\\n                .create(newPerson)\\n                .then(response => {\\n                    setPersons(persons.concat(response.data))\\n                    setNewName('')\\n                    setNumber('')\\n                    setSuccess(`Added ${newName}`)\\n                    setTimeout(() => {\\n                        setSuccess(null)\\n                      }, 5000)\\n            })\\n                .catch(error => {\\n                    const err = JSON.stringify(error.response.data.error)\\n                    setError(err)\\n                    setTimeout(() => {\\n                        setError(null)\\n                    }, 5000)\\n                })\\n        } else if (newName === '') {\\n            setError('Name field is missing')\\n            setTimeout(() => {\\n                setError(null)\\n            }, 5000)\\n        } else {\\n            if (window.confirm(`${newName} is already added to phonebook,\\n            replace the old number with a new one?`)) {\\n                const index=checkName.indexOf(false)\\n                const changedPerson = {...persons[index], number: newNumber }\\n                personService\\n                    .update(persons[index].id, changedPerson)\\n                    .then(response => {\\n                        setPersons((persons), window.location.reload()) \\n                    })\\n                    .catch(error => {\\n                        setError(`Information of ${newName} has already been removed from the server`)\\n                        setTimeout(() => {\\n                            setError(null)\\n                        }, 5000)\\n                    })\\n            } else {\\n                window.open(\\\"exit.html\\\", \\\"Thanks for Visiting!\\\")\\n            }\\n        }\\n    } \\n\\n    const deletePerson = (id, name) => {\\n        if (window.confirm(`delete ${name} ?`)) { \\n            personService.del(id)\\n            .then(response => {\\n                const del = persons.filter(p => p.id !== id)\\n                setPersons(del)               \\n        })\\n        } else {\\n            window.open(\\\"exit.html\\\", \\\"Thanks for Visiting!\\\");\\n        } \\n    }\\n\\n    const handleNameInput = (event) => {\\n        setNewName(event.target.value)\\n    }\\n\\n    const handlePhoneNumberInput = (event) => {\\n        setNumber(event.target.value)\\n    }\\n\\n    const handlerFilterInput = (event) => {\\n        setFilter(event.target.value) \\n    }\\n\\n    const filteredContacts = persons.filter(contact=>\\n        contact.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1)\\n  \\n    return (\\n    <div>\\n        <h2>Phonebook</h2>\\n            <Success message={success}/>\\n            <Error message={error}/>\\n            <Filter \\n                value={filter}\\n                handleFilterChange={handlerFilterInput}\\n            />    \\n        <h3>add a new</h3>\\n            <PersonForm \\n                submit={addPerson}\\n                nameValue={newName}\\n                handleNameChange={handleNameInput}\\n                phoneNumberValue={newNumber}\\n                handlePhoneNumberChange={handlePhoneNumberInput}\\n            />\\n    \\n        <h3>Numbers</h3>\\n            <Persons \\n                persons={filteredContacts}\\n                deletePerson={deletePerson}\\n            />\\n    </div>\\n    )\\n}\\n\\nexport default App\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport App from \\\"./App\\\"\\n\\nReactDOM.render(<App />, document.getElementById('root'))\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){},16:function(e,n,t){e.exports=t(39)},39:function(e,n,t){\"use strict\";t.r(n);var a=t(0),u=t.n(a),r=t(14),l=t.n(r),o=t(15),c=t(2),i=function(e){return u.a.createElement(\"div\",null,\"filter shown with\",u.a.createElement(\"input\",{value:e.value,onChange:e.handleFilterChange}))},m=function(e){return u.a.createElement(\"form\",{onSubmit:e.submit},u.a.createElement(\"div\",null,\"name:\",u.a.createElement(\"input\",{value:e.nameValue,onChange:e.handleNameChange})),u.a.createElement(\"div\",null,\"number:\",u.a.createElement(\"input\",{value:e.phoneNumberValue,onChange:e.handlePhoneNumberChange})),u.a.createElement(\"div\",null,u.a.createElement(\"button\",{type:\"submit\"},\"add\")))},s=function(e){return u.a.createElement(\"div\",null,u.a.createElement(\"li\",null,e.name,\" \",e.phoneNumber,u.a.createElement(\"button\",{onClick:e.deletePerson},\"delete\")))},d=function(e){return u.a.createElement(\"ul\",null,e.persons.map(function(n){return u.a.createElement(s,{key:n.id,name:n.name,phoneNumber:n.number,deletePerson:function(){return e.deletePerson(n.id,n.name)}})}))},f=t(3),h=t.n(f),b=\"/api/persons\",p=function(){return h.a.get(b)},E=function(e){return h.a.post(b,e)},v=function(e){return h.a.delete(\"\".concat(b,\"/\").concat(e))},g=function(e,n){return h.a.put(\"\".concat(b,\"/\").concat(e),n)},w=(t(13),function(e){return null===e.message?null:u.a.createElement(\"div\",{className:\"success\"},e.message)}),O=function(e){return null===e.message?null:u.a.createElement(\"div\",{className:\"error\"},e.message)},j=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],r=n[1],l=Object(a.useState)(\"\"),s=Object(c.a)(l,2),f=s[0],h=s[1],b=Object(a.useState)(\"\"),j=Object(c.a)(b,2),N=j[0],C=j[1],k=Object(a.useState)(\"\"),S=Object(c.a)(k,2),x=S[0],P=S[1],y=Object(a.useState)(null),T=Object(c.a)(y,2),V=T[0],J=T[1],F=Object(a.useState)(null),I=Object(c.a)(F,2),L=I[0],A=I[1];Object(a.useEffect)(function(){p().then(function(e){r(e.data)})},[]);var B=t.filter(function(e){return-1!==e.name.toLowerCase().indexOf(x.toLowerCase())});return u.a.createElement(\"div\",null,u.a.createElement(\"h2\",null,\"Phonebook\"),u.a.createElement(w,{message:V}),u.a.createElement(O,{message:L}),u.a.createElement(i,{value:x,handleFilterChange:function(e){P(e.target.value)}}),u.a.createElement(\"h3\",null,\"add a new\"),u.a.createElement(m,{submit:function(e){e.preventDefault();var n=t.map(function(e){return-1===e.name.indexOf(f)}),a={name:f,number:N,id:t.length+1};if(-1===n.indexOf(!1))E(a).then(function(e){r(t.concat(e.data)),h(\"\"),C(\"\"),J(\"Added \".concat(f)),setTimeout(function(){J(null)},5e3)}).catch(function(e){var n=JSON.stringify(e.response.data.error);A(n),setTimeout(function(){A(null)},5e3)});else if(\"\"===f)A(\"Name field is missing\"),setTimeout(function(){A(null)},5e3);else if(window.confirm(\"\".concat(f,\" is already added to phonebook,\\n            replace the old number with a new one?\"))){var u=n.indexOf(!1),l=Object(o.a)({},t[u],{number:N});g(t[u].id,l).then(function(e){r(t,window.location.reload())}).catch(function(e){A(\"Information of \".concat(f,\" has already been removed from the server\")),setTimeout(function(){A(null)},5e3)})}else window.open(\"exit.html\",\"Thanks for Visiting!\")},nameValue:f,handleNameChange:function(e){h(e.target.value)},phoneNumberValue:N,handlePhoneNumberChange:function(e){C(e.target.value)}}),u.a.createElement(\"h3\",null,\"Numbers\"),u.a.createElement(d,{persons:B,deletePerson:function(e,n){window.confirm(\"delete \".concat(n,\" ?\"))?v(e).then(function(n){var a=t.filter(function(n){return n.id!==e});r(a)}):window.open(\"exit.html\",\"Thanks for Visiting!\")}}))};l.a.render(u.a.createElement(j,null),document.getElementById(\"root\"))}},[[16,1,2]]]);","extractedComments":[]}